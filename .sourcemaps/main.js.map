{"version":3,"sources":["../../src/providers/index.ts","../../src/providers/activity.service.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/camera-service.ts","../../src/providers/diary-data.ts","../../src/providers/weight-service.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/chat-service.ts","../../src/providers/presence.service.ts","../../src/app/app.component.ts","../../src/providers/firebaseApi-data.ts","../../src/providers/auth-data.ts","../../src/providers/profile-data.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAmC;AACP;AACK;AACF;AACF;AACM;AACJ;AACE;AACE;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRQ;AACQ;AACd;AAEO;AACL;AACsB;AAG7D,IAAa,eAAe;IAM1B,yBACU,GAA4B,EAC7B,QAAkB,EAClB,WAAwB;QAHjC,iBAaC;QAZS,QAAG,GAAH,GAAG,CAAyB;QAC7B,aAAQ,GAAR,QAAQ,CAAU;QAClB,gBAAW,GAAX,WAAW,CAAa;QAPjC,oBAAe,GAAG,IAAI,iEAAa,CAAC,CAAC,CAAC,CAAC;QACvC,gBAAW,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;QAQhD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAE,cAAI;YACpC,EAAE,EAAC,IAAI,CAAC,CAAC,CAAC;gBACR,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAE,kBAAQ;oBAC5C,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACpC,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBAC3B,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAED,kDAAwB,GAAxB;QACE,MAAM,CAAC,kDAAiB,EAAE,CAAC,GAAG,CAAC,uBAAqB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,SAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,oBAAiB,CAAC;aACpI,WAAW,CAAE,eAAK;YACf,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,8CAAoB,GAApB,UAAqB,GAAY;QAC/B,MAAM,CAAC,kDAAiB,EAAE,CAAC,GAAG,CAAC,uBAAqB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,SAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,gBAAa,CAAC;aAChI,WAAW,CAAE,eAAK;YACf,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACR,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;YACnB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;oBACd,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;gBACnB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,MAAM,CAAC,KAAK,CAAC;gBACf,CAAC;YACH,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gDAAsB,GAAtB,UAAuB,GAAY;QAClC,MAAM,CAAC,kDAAiB,EAAE,CAAC,GAAG,CAAC,wBAAsB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,gBAAa,CAAC;aAC9F,WAAW,CAAE,eAAK;YACf,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACR,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;YACnB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;oBACd,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;gBACnB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,MAAM,CAAC,KAAK,CAAC;gBACf,CAAC;YACH,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qCAAW,GAAX,UAAY,IAAI;QACd,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,wBAAsB,IAAM,CAAC;IACzD,CAAC;IAED,0CAAgB,GAAhB,UAAiB,GAAW;QAC1B,MAAM,CAAC,kDAAiB,EAAE,CAAC,GAAG,CAAC,wBAAsB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,cAAS,GAAG,UAAO,CAAC;aACrG,WAAW,CAAE,eAAK;YACjB,MAAM,CAAC,IAAI,CAAC;QACd,CAAC,CAAC;IACJ,CAAC;IAED,4CAAkB,GAAlB,UAAmB,MAAc;QAC/B,MAAM,CAAC,kDAAiB,EAAE,CAAC,GAAG,CAAC,wBAAsB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,gBAAa,CAAC;aAC/F,WAAW,CAAE,eAAK;YACjB,MAAM,CAAC,MAAM,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAEH,sBAAC;AAAD,CAAC;AA5EY,eAAe;IAD3B,iEAAU,EAAE;qCAQI,kFAAuB;QACnB,4DAAQ;QACL,kEAAW;GATtB,eAAe,CA4E3B;AA5E2B;;;;;;;;ACT5B;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1E2C;AACW;AACC;AAChB;AAEvC,WAAW;AAC0B;AAErC,UAAU;AACmD;AACnB;AAE1C,YAAY;AAC2B;AAKvC,IAAa,aAAa;IAWxB,uBACS,MAA6B,EAC7B,QAAkB,EACjB,IAAU,EACV,MAAc;QAHf,WAAM,GAAN,MAAM,CAAuB;QAC7B,aAAQ,GAAR,QAAQ,CAAU;QACjB,SAAI,GAAJ,IAAI,CAAM;QACV,WAAM,GAAN,MAAM,CAAQ;QAZjB,qBAAgB,GAAG,IAAI,qDAAO,EAAE,CAAC;QACjC,cAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,CAAC;QACjD,kBAAa,GAAG,IAAI,qDAAO,EAAE,CAAC;QAC9B,eAAU,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;QAC/C,SAAI,GAAG,EAAE,CAAC;QAsIjB,uBAAuB;QACvB,kBAAa,GAAG,IAAI,qEAAe,CAAC,CAAC,CAAC,CAAC;QACvC,cAAS,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;IA/H3C,CAAC;IAEJ,mCAAW,GAAX,UAAY,IAAI,EAAE,OAAgB;QAChC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,eAAe,EAAE;IACxB,CAAC;IAED,uCAAe,GAAf;QAAA,iBA6BC;QA5BC,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAClC;YACA,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,YAAY;oBAClB,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACP,8BAA8B;wBAC9B,KAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACd,CAAC;iBACF,EAAC;oBACA,IAAI,EAAE,YAAY;oBAClB,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACP,6BAA6B;wBAC7B,KAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACd,CAAC;iBACF,EAAC;oBACA,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACP,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAC9B,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC;oBACzC,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,WAAW,CAAC,OAAO,EAAE,CAAC;IACxB,CAAC;IAED,eAAe;IACP,2BAAG,GAAX,UAAY,MAAM;QAAlB,iBAuBC;QAtBC,oDAAoD;QACpD,IAAM,OAAO,GAAkB;YAC7B,OAAO,EAAE,IAAI,CAAC,OAAO,IAAK,EAAE;YAC5B,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ;YACrD,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG;YAC1C,WAAW,EAAE,GAAG;YAChB,YAAY,EAAE,GAAG;YACjB,gBAAgB,EAAE,KAAK;SACxB;QACD,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;aAC9B,IAAI,CAAC,UAAC,SAAS;YACd,uCAAuC;YACvC,IAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACnE,IAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YAEtE,KAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,WAAW,EAAE,KAAI,CAAC,cAAc,EAAE,CAAC,CAAC;QAC3E,CAAC,EAAE,UAAC,GAAG;YACL,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC;YAClD,MAAM,CAAC,GAAG,CAAC;QACb,CAAC,CAAC;IACJ,CAAC;IAED,mCAAmC;IAC3B,0CAAkB,GAA1B,UAA2B,QAAQ,EAAE,WAAW,EAAE,WAAW;QAA7D,iBAWC;QAVC,4CAA4C;QAC5C,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,WAAW,EAAE,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,WAAW,CAAC;aACjF,IAAI,CAAC,UAAC,OAAO;YACZ,qCAAqC;YACrC,mDAAmD;YACnD,2CAA2C;YAC3C,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC1C,CAAC,EAAE,UAAC,GAAG;YACL,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uEAAuE;IACvE,oBAAoB;IACpB,oCAAY,GAAZ,UAAa,GAAG;QACd,gDAAgD;QAChD,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;YACjB,MAAM,CAAC,EAAE,CAAC;QACZ,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;QAE1C,CAAC;IACH,CAAC;IAED,gDAAgD;IAChD,8BAAM,GAAN,UAAO,KAAK;QAAZ,iBAQC;QAPC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC;aAC7D,IAAI,CAAE,UAAC,OAAO;YACX,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,EAAC,IAAI,EAAE,YAAY,EAAC,CAAC,CAAC;YACvD,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC3B,CAAC,EAAE,UAAC,KAAK;YACL,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,CAAC;IACJ,CAAC;IAED,gBAAgB;IACR,mCAAW,GAAnB,UAAqB,KAAK;QAA1B,iBAYC;QAXC,IAAI,SAAS,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;QACtC,IAAI,UAAU,GAAG,iDAAgB,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,gBAAW,IAAI,CAAC,IAAM,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC;QACrH,IAAI,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC;QAEtC,UAAU,CAAC,EAAE,CAAC,eAAe,EAAE,kBAAQ;YACrC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACxB,CAAC,EAAE,UAAC,KAAK;QACT,CAAC,EAAE;YACC,IAAI,WAAW,GAAG,UAAU,CAAC,QAAQ,CAAC,WAAW,CAAC;YAClD,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACzC,CAAC,CAAC;IACJ,CAAC;IAED,iCAAiC;IACzB,sCAAc,GAAtB;QACE,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,EAClB,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EACf,WAAW,GAAI,CAAC,GAAG,MAAM,CAAC;QAC1B,MAAM,CAAC,WAAW,CAAC;IACrB,CAAC;IAMD,8BAAM,GAAN;QACE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC7B,CAAC;IAGH,oBAAC;AAAD,CAAC;AAtJY,aAAa;IADzB,iEAAU,EAAE;qCAaM,4EAAqB;QACnB,4DAAQ;QACX,gEAAI;QACF,oEAAM;GAfb,aAAa,CAsJzB;AAtJyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBiB;AACQ;AACpB;AACM;AAEwB;AACtB;AAGvC,IAAa,SAAS;IAMpB,mBACU,QAAkB,EAClB,GAA4B;QAFtC,iBAYC;QAXS,aAAQ,GAAR,QAAQ,CAAU;QAClB,QAAG,GAAH,GAAG,CAAyB;QANtC,iBAAY,GAAG,IAAI,iEAAa,CAAC,CAAC,CAAC,CAAC;QACpC,aAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;QAO1C,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAE,cAAI;YACpC,EAAE,EAAC,IAAI,CAAC,CAAC,CAAC;gBACR,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAE,eAAK;oBACtC,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBAC9B,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACrB,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAED,4BAAQ,GAAR,UAAS,IAAI;QACX,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,YAAU,IAAM,CAAC,CAAC;IAC9C,CAAC;IAED,6BAAS,GAAT,UAAU,IAAI,EAAE,GAAG;QACjB,MAAM,CAAC,kDAAiB,EAAE,CAAC,GAAG,CAAC,YAAU,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,SAAI,IAAI,SAAI,GAAK,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACtG,CAAC;IAED,8BAAU,GAAV,UAAW,IAAI,EAAE,GAAG,EAAE,GAAU;QAC9B,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,YAAU,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,SAAI,GAAK,EAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IACtF,CAAC;IAED,6BAAS,GAAT,UAAU,IAAI,EAAE,GAAW;QACzB,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;QAChC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAU,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,SAAI,GAAK,EAAE,IAAI,CAAC,CAAC;IAC5E,CAAC;IAED,2BAAO,GAAP,UAAQ,GAAG,EAAE,KAAK;QAChB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,YAAU,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,SAAI,GAAG,SAAI,KAAO,CAAC,CAAC;IACpF,CAAC;IAED,yBAAyB;IACzB,wCAAwC;IACxC,4DAA4D;IAC5D,OAAO;IACP,IAAI;IAEJ,8BAAU,GAAV,UAAW,GAAG,EAAC,KAAK,EAAC,MAAM;QACzB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAU,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,SAAI,GAAG,SAAI,KAAK,aAAU,EAAE,MAAM,CAAC,CAAC;IAC/F,CAAC;IAED,2BAAO,GAAP,UAAQ,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG;QACzB,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC;QAC5B,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAU,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,SAAI,GAAG,SAAI,GAAG,SAAI,IAAM,EAAE,GAAG,CAAC,CAAC;IAC1F,CAAC;IAEH,gBAAC;AAAD,CAAC;AAxDY,SAAS;IADrB,iEAAU,EAAE;qCAQS,4DAAQ;QACb,kFAAuB;GAR3B,SAAS,CAwDrB;AAxDqB;;;;;;;;;;;;;;;;;;;;;;;ACTqB;AAEkB;AACxB;AAGrC,IAAa,aAAa;IAExB,uBACU,GAA4B;QAA5B,QAAG,GAAH,GAAG,CAAyB;IACpC,CAAC;IAEH,4BAAI,GAAJ,UAAK,GAAW,EAAE,SAAiB;QAClC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAe,8CAAa,EAAE,CAAC,WAAW,CAAC,GAAK,EAAC,EAAC,GAAG,EAAE,GAAG,EAAC,SAAS,EAAE,SAAS,EAAC,CAAC,CAAC;IACxG,CAAC;IAED,qCAAa,GAAb;QACC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,iBAAe,8CAAa,EAAE,CAAC,WAAW,CAAC,GAAK,CAAC,CAAC;IAC3E,CAAC;IAEH,oBAAC;AAAD,CAAC;AAdY,aAAa;IADzB,iEAAU,EAAE;qCAII,kFAAuB;GAH3B,aAAa,CAczB;AAdyB;;;;;;;;;;;;ACNiD;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJI;AACE;AACf;AAC8B;AACjC;AAExC,8BAA8B;AAC9B,gFAAgF;AAC/B;AACiB;AACR;AAE1D,UAAU;AAC2C;AACM;AACb;AACJ;AACQ;AAElD,YAAY;AAS0C;AAEtD,eAAe;AACR,IAAM,cAAc,GAAG;IAC5B,MAAM,EAAE,yCAAyC;IACjD,UAAU,EAAE,+BAA+B;IAC3C,WAAW,EAAE,sCAAsC;IACnD,aAAa,EAAE,2BAA2B;IAC1C,iBAAiB,EAAE,eAAe;CACnC,CAAC;AAEF,wEAAwE;AACxE,iCAAiC;AACjC,sCAAsC;AACtC,iCAAiC;AACjC,IAAI;AA+DJ,IAAa,SAAS;IAAtB;IAAwB,CAAC;IAAD,gBAAC;AAAD,CAAC;AAAZ,SAAS;IA7DrB,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,6DAAK;SACN;QACD,OAAO,EAAE;YACP,gFAAa;YACb,iEAAU;YACV,kEAAW,CAAC,OAAO,CAAC,6DAAK,EAAE;gBACzB,cAAc,EAAE,eAAe;gBAC/B,GAAG,EAAE;oBACD,YAAY,EAAE,KAAK;oBACnB,eAAe,EAAE,KAAK;oBACtB,aAAa,EAAE,KAAK;iBACrB;aACJ,EACL;gBACE,KAAK,EAAE;oBACL,EAAE,YAAY,EAAE,kDAAkD,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACpJ,EAAE,YAAY,EAAE,0CAA0C,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACpI,EAAE,YAAY,EAAE,6CAA6C,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACzI,EAAE,YAAY,EAAE,8CAA8C,EAAE,IAAI,EAAE,YAAY,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBAC5I,EAAE,YAAY,EAAE,6CAA6C,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACzI,EAAE,YAAY,EAAE,uDAAuD,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACxJ,EAAE,YAAY,EAAE,6CAA6C,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACzI,EAAE,YAAY,EAAE,4CAA4C,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBAClI,EAAE,YAAY,EAAE,8DAA8D,EAAE,IAAI,EAAE,gBAAgB,EAAE,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACrK,EAAE,YAAY,EAAE,wDAAwD,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBAC3J,EAAE,YAAY,EAAE,mDAAmD,EAAE,IAAI,EAAE,aAAa,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACnJ,EAAE,YAAY,EAAE,sDAAsD,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACxJ,EAAE,YAAY,EAAE,uEAAuE,EAAE,IAAI,EAAE,mBAAmB,EAAE,OAAO,EAAE,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACpL,EAAE,YAAY,EAAE,0CAA0C,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACpI,EAAE,YAAY,EAAE,gDAAgD,EAAE,IAAI,EAAE,YAAY,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;iBAC/I;aACF,CAAC;YACE,wEAAwE;YACxE,uEAAiB,CAAC,aAAa,CAAC,cAAc,CAAC;YAC/C,wFAAyB;YACzB,gFAAqB;SACtB;QACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;QACrB,eAAe,EAAE;YACf,6DAAK;SACN;QACD,SAAS,EAAE;YACT,EAAC,OAAO,EAAE,2DAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;YACpD,2EAAS;YACT,iFAAY;YACZ,qEAAM;YACN,iEAAI;YACJ,yEAAQ;YACR,6DAAQ;YACR,gEAAW;YACX,kEAAa;YACb,8DAAS;YACT,gEAAW;YACX,kEAAa;YACb,oEAAe;YACf,oEAAe;YACf,4EAAuB;SACxB;KACF,CAAC;GACW,SAAS,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;AC1GqB;AACN;AAEwB;AAChB;AACQ;AAGrD,IAAa,WAAW;IAMtB,qBACU,GAA4B,EAC7B,WAAwB,EACxB,eAAgC;QAF/B,QAAG,GAAH,GAAG,CAAyB;QAC7B,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAEvC,IAAI,CAAC,IAAI,GAAG,kDAAiB,EAAE,CAAC,GAAG,CAAC,YAAU,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,SAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAM,CAAC,CAAC;IACnH,CAAC;IAED,6BAAO,GAAP,UAAQ,QAAgB,EAAE,UAAkB;QAC1C,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,YAAU,QAAQ,SAAI,UAAY,CAAC,CAAC;IAC9D,CAAC;IAED,6BAAO,GAAP,UAAQ,QAAgB,EAAE,UAAkB,EAAE,GAAO;QACnD,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAU,QAAQ,SAAI,UAAY,EAAE,GAAG,CAAC,CAAC;QAC/D,mEAAmE;QACnE,cAAc;IACf,CAAC;IAED,+BAAS,GAAT,UAAU,QAAgB,EAAE,UAAkB,EAAE,GAAO,EAAE,MAAU;QACjE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,YAAU,QAAQ,SAAI,UAAY,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC;IAC9E,CAAC;IAED,+BAAS,GAAT,UAAU,QAAgB,EAAE,UAAkB,EAAE,GAAO;QACrD,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,YAAU,QAAQ,SAAI,UAAY,EAAC,GAAG,CAAC,CAAC;IACzE,CAAC;IAED,6BAAO,GAAP;QAAA,iBAaC;QAZC,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,UAAC,IAAI;YAC5C,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;gBACtF,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC;qBAC7C,IAAI,CACH,cAAM,cAAO,CAAC,GAAG,CAAC,SAAS,CAAC,EAAtB,CAAsB,EAC5B,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,OAAO,CAAC,EAApB,CAAoB,CAC5B,CAAC;gBACF,KAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;YACrD,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kCAAY,GAAZ;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACf,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC;QAC1C,CAAC;IAEH,CAAC;IAEH,kBAAC;AAAD,CAAC;AAtDY,WAAW;IADvB,iEAAU,EAAE;qCAQI,kFAAuB;QAChB,kEAAW;QACP,0EAAe;GAT9B,WAAW,CAsDvB;AAtDuB;;;;;;;;;;;;;;;;;;;;;;;;ACR2B;AACZ;AACF;AAGrC,IAAa,eAAe;IAK1B,yBACQ,IAAY;QAAZ,SAAI,GAAJ,IAAI,CAAQ;QAJd,qBAAgB,GAAG,IAAI,qDAAO,EAAW,CAAC;QACzC,cAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,CAAC;QAKvD,IAAI,CAAC,aAAa,EAAE,CAAC;IACtB,CAAC;IAED,uCAAa,GAAb;QAAA,iBASC;QARA,IAAI,YAAY,GAAG,kDAAiB,EAAE,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC/D,YAAY,CAAC,EAAE,CAAC,OAAO,EAAE,cAAI;YAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,IAAI,CAAC,CAAC,CAAC;gBACvB,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACpC,CAAC;QACH,CAAC,CAAC;IACH,CAAC;IAEH,sBAAC;AAAD,CAAC;AAtBY,eAAe;IAD3B,iEAAU,EAAE;qCAOG,qDAAM;GANT,eAAe,CAsB3B;AAtB2B;;;;;;;;;;;;;;;;;;;;;;;;;ACLc;AACgB;AACL;AACM;AACT;AAEoB;AAKtE,IAAa,KAAK;IAKhB,eACS,QAAkB,EAClB,SAAoB,EACpB,YAA0B,EAC1B,QAAkB,EAClB,QAAkB,EAClB,WAAwB,EACxB,eAAgC,EAChC,SAA0B;QARnC,iBAmDC;QAlDQ,aAAQ,GAAR,QAAQ,CAAU;QAClB,cAAS,GAAT,SAAS,CAAW;QACpB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,aAAQ,GAAR,QAAQ,CAAU;QAClB,aAAQ,GAAR,QAAQ,CAAU;QAClB,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,cAAS,GAAT,SAAS,CAAiB;QAXnC,cAAS,GAAG,IAAI,CAAC;QACjB,UAAK,GAAG,IAAI,CAAC;QAYX,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACzB,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;YAC9B,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAE,cAAI;gBACpC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACT,KAAI,CAAC,WAAW,CAAC,UAAU,EAAE;yBAC5B,SAAS,CAAE,iBAAO;wBACjB,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;wBAC/B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;4BACZ,KAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;4BAC3B,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gCACf,SAAS,CAAC,YAAY,EAAE,CAAC;gCACzB,YAAY,CAAC,IAAI,EAAE,CAAC;gCACpB,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;4BACrB,CAAC;wBACH,CAAC;oBACH,CAAC,CAAC;gBACJ,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAI,CAAC,QAAQ,GAAG,WAAW,CAAC;gBAC9B,CAAC;YACH,CAAC,CAAC;YAEF,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,SAAS,CAAE,aAAG;gBAC3C,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;gBACjC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACT,KAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC;oBACvC,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACzB,CAAC;gBACD,EAAE,EAAE,GAAG,IAAI,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBAC3B,KAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,CAAC;gBAC5C,CAAC;YACH,CAAC,CAAC;YAEF,8CAA8C;YAC9C,qDAAqD;YACrD,MAAM;YAEN,8CAA8C;YAC9C,wDAAwD;YACxD,MAAM;QACR,CAAC,CAAC;IAEJ,CAAC;IAED,4BAAY,GAAZ,UAAa,GAAG;QACd,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,OAAO,EAAE,GAAG;YACZ,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IACH,YAAC;AAAD,CAAC;AAjEY,KAAK;IAHjB,gEAAS,CAAC;QACT,QAAQ,EAAE,gDAA8C;KACzD,CAAC;qCAOmB,+DAAQ;QACP,2EAAS;QACN,iFAAY;QAChB,wEAAQ;QACR,4DAAQ;QACL,+DAAW;QACP,mEAAe;QACrB,sEAAe;GAbxB,KAAK,CAiEjB;AAjEiB;;;;;;;;;;;;;;;;;;;;;;;ACXyB;AAEiB;AACvB;AAGrC,IAAa,uBAAuB;IAElC,iCACQ,EAAuB;QAAvB,OAAE,GAAF,EAAE,CAAqB;IAC7B,CAAC;IAEJ,2CAAS,GAAT,UAAU,IAAW;QACpB,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED,2CAAS,GAAT,UAAU,IAAY,EAAE,IAAS;QAChC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAG,IAAM,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAC5C,CAAC;IAED,8CAAY,GAAZ,UAAa,IAAY,EAAE,IAAS;QACnC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAG,IAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC/C,CAAC;IAED,8CAAY,GAAZ,UAAa,IAAY;QACxB,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAG,IAAM,CAAC,CAAC,MAAM,EAAE,CAAC;IAC3C,CAAC;IAED,yCAAO,GAAP,UAAQ,IAAW;QAClB,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAED,sCAAI,GAAJ,UAAK,IAAY,EAAE,IAAS;QAC3B,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAG,IAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;IAED,4CAAU,GAAV,UAAW,IAAY,EAAE,GAAU,EAAE,IAAS;QAC7C,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAG,IAAM,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,gDAAc,GAAd,UAAe,IAAY,EAAE,GAAY;QACxC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACT,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAG,IAAM,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC5C,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAG,IAAM,CAAC,CAAC,MAAM,EAAE,CAAC;QACzC,CAAC;IACF,CAAC;IAED,2CAAS,GAAT;QACC,MAAM,CAAC,kDAAiB,EAAE,CAAC,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC;IAC7C,CAAC;IAED,2CAAS,GAAT;QACC,MAAM,CAAC,kDAAiB,CAAC,WAAW,CAAC,SAAS,CAAC;IAChD,CAAC;IAEA,2CAAS,GAAT,UAAU,SAAc;QACvB,MAAM,CAAC,kDAAiB,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IACpD,CAAC;IAED,8CAAY,GAAZ,UAAc,UAAe,EAAE,KAAoB,EAAE,GAAY;QAC/D,IAAM,SAAS,GAAG,EAAE;QACpB,IAAM,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC/C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACT,IAAM,QAAM,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;YAChC,KAAK,CAAC,OAAO,CAAE,cAAI;gBACjB,cAAc,CAAC,OAAO,CAAE,mBAAS;oBAC/B,SAAS,CAAI,IAAI,SAAI,QAAM,SAAI,SAAW,CAAC,GAAG,UAAU,CAAC,SAAS,CAAC;gBACrE,CAAC,CAAC;YACJ,CAAC,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,KAAK,CAAC,OAAO,CAAE,cAAI;gBACjB,cAAc,CAAC,OAAO,CAAE,mBAAS;oBAC/B,SAAS,CAAI,IAAI,SAAI,SAAW,CAAC,GAAG,UAAU,CAAC,SAAS,CAAC;gBAC3D,CAAC,CAAC;YACJ,CAAC,CAAC;QACH,CAAC;QACD,MAAM,CAAC,SAAS,CAAC;IACnB,CAAC;IAEH,8BAAC;AAAD,CAAC;AA1EY,uBAAuB;IADnC,iEAAU,EAAE;qCAIC,kFAAmB;GAHpB,uBAAuB,CA0EnC;AA1EmC;;;;;;;;;;;;;;;;;;;;;;;;ACNO;AAGS;AACQ;AACvB;AAGrC,IAAa,QAAQ;IAKnB,kBACS,MAAuB,EACvB,IAAyB;QAFlC,iBAQC;QAPQ,WAAM,GAAN,MAAM,CAAiB;QACvB,SAAI,GAAJ,IAAI,CAAqB;QAEhC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC;QAChC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAE,UAAC,IAAS;YAChC,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;QAC5B,CAAC,CAAC;IACJ,CAAC;IAED,0BAAO,GAAP;QACE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;IAC1B,CAAC;IAED,4BAAS,GAAT,UAAU,QAAgB,EAAE,WAAmB;QAC7C,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IAC5E,CAAC;IAED,6DAA6D;IAC7D,gCAAa,GAAb,UAAc,KAAa;QACzB,MAAM,CAAC,8CAAa,EAAE,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;IACvD,CAAC;IAED,6BAAU,GAAV;QACE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;IACpC,CAAC;IAED,6BAAU,GAAV,UAAW,QAAgB,EAAE,WAAmB;QAAhD,iBAMC;QALC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,8BAA8B,CAAC,QAAQ,EAAE,WAAW,CAAC;aAC5E,IAAI,CAAC,iBAAO;YACX,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAgB,OAAO,CAAC,GAAK,CAAC;iBAC9C,GAAG,CAAC,EAAC,KAAK,EAAC,QAAQ,EAAC,CAAC,CAAC;QACzB,CAAC,CAAC;IACJ,CAAC;IAED,iCAAc,GAAd,UAAe,WAAoB,EAAE,QAAiB;QACpD,IAAM,IAAI,GAAG;YACX,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW;YACtC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ;SACjC,CAAC;QAEF,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;YAAC,IAAI,CAAC,aAAa,CAAC,GAAG,WAAW;QAAC,CAAC;QACtD,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YAAC,IAAI,CAAC,UAAU,CAAC,GAAG,QAAQ;QAAC,CAAC;QAE7C,MAAM,CAAC,8CAAa,EAAE,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC;IACxD,CAAC;IACH,eAAC;AAAD,CAAC;AAnDY,QAAQ;IADpB,iEAAU,EAAE;qCAOM,0EAAe;QACjB,kFAAmB;GAPvB,QAAQ,CAmDpB;AAnDoB;;;;;;;;;;;;;;;;;;;;;;;;ACRsB;AACN;AAEwB;AACtB;AAGvC,IAAa,WAAW;IAKtB,qBACU,GAA4B,EAC7B,QAAkB;QAF3B,iBAaC;QAZS,QAAG,GAAH,GAAG,CAAyB;QAC7B,aAAQ,GAAR,QAAQ,CAAU;QAEzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAE,cAAI;YACpC,EAAE,EAAC,IAAI,CAAC,CAAC,CAAC;gBACR,KAAI,CAAC,UAAU,EAAE,CAAC,SAAS,CAAE,cAAI;oBAC/B,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACtB,CAAC,CAAC;YACJ,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACtB,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAED,mCAAa,GAAb,UAAc,IAAI;QAChB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,kBAAgB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAK,EAAE,IAAI,CAAC,CAAC;IACnF,CAAC;IAED,sCAAgB,GAAhB,UAAiB,IAAI;QACnB,IAAM,IAAI,GAAG,kDAAiB,EAAE,CAAC,GAAG,EAAE,CAAC;QACvC,IAAM,KAAK,GAAG;YACZ,iBAAe,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAK;YAC3C,mBAAiB,IAAI,CAAC,OAAO,CAAC,KAAK,SAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAK;SACpE,CAAE;QACH,IAAM,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAE;QAC/C,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC;IAEO,kCAAY,GAApB,UAAsB,UAAe,EAAE,KAAoB;QACzD,IAAM,SAAS,GAAG,EAAE;QACpB,IAAM,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC/C,KAAK,CAAC,OAAO,CAAE,cAAI;YACjB,cAAc,CAAC,OAAO,CAAE,mBAAS;gBAC/B,SAAS,CAAI,IAAI,SAAI,SAAW,CAAC,GAAG,UAAU,CAAC,SAAS,CAAC;YAC3D,CAAC,CAAC;QACJ,CAAC,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,MAAM,CAAC,SAAS,CAAC;IACnB,CAAC;IAED,gCAAU,GAAV;QACE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,kBAAgB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAK,CAAC,CAAC;IAC1E,CAAC;IAED,kCAAY,GAAZ,UAAa,QAAQ;QACnB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,kBAAgB,QAAU,CAAC,CAAC;IACxD,CAAC;IAED,oCAAc,GAAd;QACE,MAAM,CAAC,kDAAiB,EAAE,CAAC,GAAG,CAAC,kBAAgB,8CAAa,EAAE,CAAC,WAAW,CAAC,GAAK,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAClG,CAAC;IAED,gCAAU,GAAV;QACE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,yCAAmB,GAAnB;QACE,MAAM,CAAC,kDAAiB,EAAE,CAAC,GAAG,CAAC,kBAAgB,IAAI,CAAC,OAAO,CAAC,KAAO,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACrF,CAAC;IACH,kBAAC;AAAD,CAAC;AAjEY,WAAW;IADvB,iEAAU,EAAE;qCAOI,kFAAuB;QACnB,4DAAQ;GAPhB,WAAW,CAiEvB;AAjEuB","file":"main.js","sourcesContent":["export * from './activity.service';\nexport * from './auth-data';\nexport * from './camera-service';\nexport * from './chat-service';\nexport * from './diary-data';\nexport * from './presence.service';\nexport * from './profile-data';\nexport * from './weight-service';\nexport * from './firebaseApi-data';\n\n\n// WEBPACK FOOTER //\n// ./src/providers/index.ts","import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport * as firebase from 'firebase';\n\nimport { ProfileData} from './profile-data';\nimport { AuthData } from './auth-data';\nimport { FirebaseApiDataProvider } from './firebaseApi-data';\n\n@Injectable()\nexport class ActivityService {\n\n  activitySubject = new ReplaySubject(1);\n  activityObs = this.activitySubject.asObservable();\n  activity: any;\n\n  constructor(\n    private api: FirebaseApiDataProvider,\n    public authData: AuthData,\n    public profileData: ProfileData\n\t) {\n    this.authData.fireAuth.subscribe( user => {\n      if(user) {\n        this.getActivity(user.uid).subscribe( activity => {\n          this.activitySubject.next(activity);\n          this.activity = activity;\n        });\n      }\n    })\n  }\n\n  updatePendingReviewCount(): firebase.Promise<any> {\n    return firebase.database().ref(`/activity/coaches/${this.profileData.current.coach}/${this.profileData.current.$key}/pendingReviews`)\n    .transaction( value => {      \n        return value + 1;\n    });\n  }\n\n  updateUnreadMsgCoach(add: boolean) {\n    return firebase.database().ref(`/activity/coaches/${this.profileData.current.coach}/${this.profileData.current.$key}/unreadMsgs`)\n    .transaction( value => {      \n        if (add) {\n          return value + 1;\n        } else {\n          if (value > 0) {\n            return value - 1;\n          } else {\n            return value;\n          }\n        }\n    });\n  }\n\n  updateUnreadMsgPatient(add: boolean) {\n   return firebase.database().ref(`/activity/patients/${this.profileData.current.$key}/unreadMsgs`)\n    .transaction( value => {      \n        if (add) {\n          return value + 1;\n        } else {\n          if (value > 0) {\n            return value - 1;\n          } else {\n            return value;\n          }\n        }\n    }); \n  }\n\n  getActivity(user) {\n    return this.api.getObject(`/activity/patients/${user}`)\n  }\n\n  markAsSeenReview(key: string) {\n    return firebase.database().ref(`/activity/patients/${this.profileData.current.$key}/feed/${key}/read`)\n    .transaction( value => {\n      return true;\n    })\n  }\n\n  updateUnseenReview(unseen: number) {\n    return firebase.database().ref(`/activity/patients/${this.profileData.current.$key}/unReadFeed`)\n    .transaction( value => {\n      return unseen;\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/activity.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 174;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 174\n// module chunks = 15","var map = {\n\t\"../pages/activity/activity.module\": [\n\t\t459,\n\t\t7\n\t],\n\t\"../pages/chat/chat.module\": [\n\t\t460,\n\t\t1\n\t],\n\t\"../pages/coach/coach.module\": [\n\t\t461,\n\t\t4\n\t],\n\t\"../pages/config/config.module\": [\n\t\t462,\n\t\t14\n\t],\n\t\"../pages/diary/diary.module\": [\n\t\t463,\n\t\t6\n\t],\n\t\"../pages/log-weight/log-weight.module\": [\n\t\t464,\n\t\t13\n\t],\n\t\"../pages/login/login.module\": [\n\t\t465,\n\t\t10\n\t],\n\t\"../pages/me/me.module\": [\n\t\t466,\n\t\t12\n\t],\n\t\"../pages/meal-detail/meal-detail.module\": [\n\t\t467,\n\t\t0\n\t],\n\t\"../pages/meal-text/meal-text.module\": [\n\t\t468,\n\t\t3\n\t],\n\t\"../pages/profile/profile.module\": [\n\t\t469,\n\t\t2\n\t],\n\t\"../pages/progress/progress.module\": [\n\t\t470,\n\t\t5\n\t],\n\t\"../pages/reset-password/reset-password.module\": [\n\t\t471,\n\t\t9\n\t],\n\t\"../pages/signup/signup.module\": [\n\t\t473,\n\t\t8\n\t],\n\t\"../pages/tabs/tabs.module\": [\n\t\t472,\n\t\t11\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 214;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 214\n// module chunks = 15","import { Injectable } from '@angular/core';\nimport { ActionSheetController } from 'ionic-angular';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Subject } from 'rxjs/Subject';\n\n// firebase\nimport * as firebase from 'firebase';\n\n// plugins\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { File } from '@ionic-native/file';\n\n// providers\nimport { AuthData } from './auth-data';\n\ndeclare var cordova: any;\n\n@Injectable()\nexport class CameraService {\n\n  public storage: any;\n  public imageDataSubject = new Subject();\n  public imageData = this.imageDataSubject.asObservable();\n  public uploadSubject = new Subject();\n  public uploadData = this.uploadSubject.asObservable();\n  public data = {};\n  public path;\n  private quality: number;\n\n  constructor(\n    public asCtrl: ActionSheetController,\n    public authData: AuthData,\n    private file: File,\n    private camera: Camera,\n  ) {}\n\n  takePicture(path, quality?: number) {\n    this.path = path;\n    this.quality = quality;\n    this.openActionSheet()\n  }\n\n  openActionSheet() {\n    let actionSheet = this.asCtrl.create(\n      {\n      buttons: [\n        {\n          text: 'Sacar foto',\n          icon: 'camera',\n          handler: () => {\n            // console.log('scacar foto');\n            this.cam(1);\n          }\n        },{\n          text: 'Biblioteca',\n          icon: 'images',\n          handler: () => {\n            // console.log('biblioteca');\n            this.cam(0);\n          }\n        },{\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n            this.imageDataSubject.next('cancelled')\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n  // take picture\n  private cam(source) {\n    // PHOTOLIBRARY : 0, CAMERA : 1, SAVEDPHOTOALBUM : 2\n    const options: CameraOptions = {\n      quality: this.quality  || 50,\n      destinationType: this.camera.DestinationType.FILE_URI,\n      sourceType: source,\n      allowEdit: true,\n      encodingType: this.camera.EncodingType.PNG,\n      targetWidth: 500,\n      targetHeight: 500,\n      saveToPhotoAlbum: false\n    }\n    this.camera.getPicture(options)\n    .then((imagePath) => {\n      // console.log('saco foto', imagePath);\n      let currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);\n      let correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);\n\n      this.copyFileToLocalDir(correctPath, currentName, this.createFileName());\n    }, (err) => {\n      console.log('error en servicio takePicture', err);\n      return err;\n    })\n  }\n\n  // Copy the image to a local folder\n  private copyFileToLocalDir(namePath, currentName, newFileName) {\n    // console.log('arranca copyFileToLocalDir')\n    this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName)\n    .then((success) => {\n      // console.log('copio correctamente')\n      // let localImage = this.pathForImage(newFileName);\n      // console.log('imagen local', localImage);\n      this.imageDataSubject.next(newFileName);\n    }, (err) => {\n      console.log('Error en copyFileToLocalDir');\n    });\n  }\n\n  // esta funcion es para poder dar el path correcto de la foto guardadad\n  // en el dispositivo\n  pathForImage(img) {\n    // console.log('usa path con esta imagen', img);\n    if (img === null) {\n      return '';\n    } else {\n      return cordova.file.dataDirectory + img;\n\n    }\n  }\n\n  // creates a Blob from the stored file to upload\n  toBlob(image) {\n    this.file.readAsArrayBuffer(cordova.file.dataDirectory, image)\n    .then( (success) => {\n        const blob = new Blob([success], {type: 'image/jpeg'});\n        this.uploadImage(blob);\n    }, (error) => {\n        console.error(error);\n    })\n  }\n\n  // uploads image\n  private uploadImage (image){\n    let imageName = this.createFileName();\n    let storageRef = firebase.storage().ref().child(`${this.authData.fireAuth.uid}/images/${this.path}`).child(imageName)\n    let uploadTask = storageRef.put(image)\n\n    uploadTask.on('state_changed', snapshot => {\n      console.log(snapshot);\n    }, (error) => {\n    }, () => {\n        let downloadURL = uploadTask.snapshot.downloadURL;\n        this.uploadSubject.next(downloadURL);\n    })\n  }\n\n  // creates a FileName for storing\n  private createFileName() {\n    let d = new Date(),\n    n = d.getTime(),\n    newFileName =  n + \".jpg\";\n    return newFileName;\n  }\n\n  // prueba obs en config\n  numberSubject = new BehaviorSubject(1);\n  numberObs = this.numberSubject.asObservable();\n\n  addOne(){\n    this.numberSubject.next(1);\n  }\n  // fin prueba\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/camera-service.ts","import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport 'rxjs/add/operator/map';\nimport * as firebase from 'firebase';\n\nimport { FirebaseApiDataProvider } from './firebaseApi-data';\nimport { AuthData } from './auth-data';\n\n@Injectable()\nexport class DiaryData {\n\n  diarySubject = new ReplaySubject(1);\n  diaryObs = this.diarySubject.asObservable();\n  diary: any;\n\n  constructor(\n    private authData: AuthData,\n    private api: FirebaseApiDataProvider\n  ) {\n    this.authData.fireAuth.subscribe( user => {\n      if(user) {\n        this.getDiary(user.uid).subscribe( diary => {\n          this.diarySubject.next(diary);\n          this.diary = diary;\n        });\n      }\n    })\n  }\n\n  getDiary(user) {\n    return this.api.getObject(`/diary/${user}`);\n  }\n\n  getDetail(date, key) {\n    return firebase.database().ref(`/diary/${this.authData.fireAuth.uid}/${date}/${key}`).once('value');\n  }\n\n  updateList(form, key, day:string) {\n    return this.api.updateList(`/diary/${this.authData.fireAuth.uid}/${day}`,key, form);\n  }\n\n  pushEntry(form, day: string) {\n    console.log('entra', form, day);\n    return this.api.push(`/diary/${this.authData.fireAuth.uid}/${day}`, form);\n  }\n\n  getMeal(day, array) {\n    return this.api.getObject(`/diary/${this.authData.fireAuth.uid}/${day}/${array}`);\n  }\n\n  // getMeal2(day, array) {\n  //   this.diaryObs.subscribe( diary => {\n  //     return diary[this.authData.fireAuth.uid][day][array];\n  //   })\n  // }\n\n  pushReview(day,array,review) {\n    return this.api.push(`/diary/${this.authData.fireAuth.uid}/${day}/${array}/reviews`, review);\n  }\n\n  pushImg(day, key, path, img) {\n    console.log('push img', img)\n    return this.api.push(`/diary/${this.authData.fireAuth.uid}/${day}/${key}/${path}`, img);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/diary-data.ts","import { Injectable } from '@angular/core';\n\nimport { FirebaseApiDataProvider } from './firebaseApi-data';\nimport * as firebase from 'firebase';\n\n@Injectable()\nexport class WeightService {\n\n  constructor(\n    private api: FirebaseApiDataProvider,\n\t) {}\n\n  push(log: string, timestamp: string) {\n  \treturn this.api.push(`/weightLogs/${firebase.auth().currentUser.uid}`,{log: log,timestamp: timestamp});\n  }\n\n  getWeightLogs() {\n  \treturn this.api.getList(`/weightLogs/${firebase.auth().currentUser.uid}`);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/weight-service.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler  } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule } from '@angular/http';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\n\n// importo AngularFire2 module\n// import { AngularFireModule, AuthProviders, AuthMethods } from 'angularfire2';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\n\n// plugins\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { Camera } from '@ionic-native/camera';\nimport { File } from '@ionic-native/file';\nimport { Keyboard } from '@ionic-native/keyboard';\n\n// Servicios\nimport { AuthData, \n        ProfileData, \n        CameraService, \n        DiaryData, \n        ChatService, \n        WeightService, \n        ActivityService, \n        PresenceService,\n        FirebaseApiDataProvider } from '../providers';\n\n// settings AF2\nexport const firebaseConfig = {\n  apiKey: \"AIzaSyC9EFx_1rQDM0YOleEC-CstB58D0JMj0pA\",\n  authDomain: \"dietapp-9f200.firebaseapp.com\",\n  databaseURL: \"https://dietapp-9f200.firebaseio.com\",\n  storageBucket: \"dietapp-9f200.appspot.com\",\n  messagingSenderId: \"1075458661299\"\n};\n\n// esto le dice a AF2 que voy a usar Email & Password para autenticacion\n// const myFirebaseAuthConfig = {\n//   provider: AuthProviders.Password,\n//   method: AuthMethods.Password\n// }\n\n@NgModule({\n  declarations: [\n    MyApp,\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicModule.forRoot(MyApp, {\n      pageTransition: 'md-transition',\n      ios: {\n          scrollAssist: false, \n          autoFocusAssist: false,\n          inputBlurring: false\n        }\n    }, \n{\n  links: [\n    { loadChildren: '../pages/activity/activity.module#TabsPageModule', name: 'ActivityPage', segment: 'activity', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/chat/chat.module#ChatPageModule', name: 'ChatPage', segment: 'chat', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/coach/coach.module#CoachPageModule', name: 'CoachPage', segment: 'coach', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/config/config.module#TabsPageModule', name: 'ConfigPage', segment: 'config', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/diary/diary.module#DiaryPageModule', name: 'DiaryPage', segment: 'diary', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/log-weight/log-weight.module#LogWeightModule', name: 'LogWeight', segment: 'log-weight', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/login/login.module#LoginPageModule', name: 'LoginPage', segment: 'login', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/me/me.module#MealDetailPageModule', name: 'MePage', segment: 'me', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/meal-detail/meal-detail.module#MealDetailPageModule', name: 'MealDetailPage', segment: 'meal-detail', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/meal-text/meal-text.module#MealTextPageModule', name: 'MealTextPage', segment: 'meal-text', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/profile/profile.module#ProfilePageModule', name: 'ProfilePage', segment: 'profile', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/progress/progress.module#ProgressPageModule', name: 'ProgressPage', segment: 'progress', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/reset-password/reset-password.module#ResetPasswordPageModule', name: 'ResetPasswordPage', segment: 'reset-password', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/tabs/tabs.module#TabsPageModule', name: 'TabsPage', segment: 'tabs', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/signup/signup.module#SignupPageModule', name: 'SignupPage', segment: 'signup', priority: 'low', defaultHistory: [] }\n  ]\n}), // esto es para que junto tappable no tarde unos segundos en hacer click\n    // AngularFireModule.initializeApp(firebaseConfig, myFirebaseAuthConfig)\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireDatabaseModule,\n    AngularFireAuthModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n  ],\n  providers: [\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    StatusBar,\n    SplashScreen,\n    Camera,\n    File,\n    Keyboard,\n    AuthData,\n    ProfileData,\n    CameraService,\n    DiaryData,\n    ChatService,\n    WeightService,\n    ActivityService,\n    PresenceService,\n    FirebaseApiDataProvider\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport * as firebase from 'firebase';\n\nimport { FirebaseApiDataProvider } from './firebaseApi-data';\nimport { ProfileData } from './profile-data';\nimport { ActivityService } from './activity.service';\n\n@Injectable()\nexport class ChatService {\n\n  chat: any;\n  unread: any;\n  added: any;\n\n  constructor(\n    private api: FirebaseApiDataProvider,\n    public profileData: ProfileData,\n    public activityService: ActivityService\n\t){\n    this.chat = firebase.database().ref(`/chats/${this.profileData.current.coach}&${this.profileData.current.$key}`);\n  }\n\n  getChat(coachUid: string, patientUid: string) {\n    return this.api.getList(`/chats/${coachUid}&${patientUid}`);\n  }\n\n  pushMsg(coachUid: string, patientUid: string, msg:any){\n    return this.api.push(`/chats/${coachUid}&${patientUid}`, msg);\n  \t// return this.af.database.list(`/chats/${coachUid}&${patientUid}`)\n  \t// .push(msg);\n  }\n\n  updateMsg(coachUid: string, patientUid: string, msg:any, newMsg:any){\n    return this.api.updateList(`/chats/${coachUid}&${patientUid}`, msg, newMsg);\n  }\n\n  removeMsg(coachUid: string, patientUid: string, msg:any) {\n    return this.api.removeItemList(`/chats/${coachUid}&${patientUid}`,msg);\n  }\n\n  mesRead () {\n    this.offCheckRead();\n\n    this.added = this.chat.on('child_added', (data) => {\n      if ((this.profileData.current.$key !== data.val().uid) && (data.val().read === false)) {\n        this.chat.child(data.key).update({read: true})\n        .then(\n          () => console.log('updated'),\n          err => console.log('error')\n        );\n        this.activityService.updateUnreadMsgPatient(false);\n      }\n    });\n  }\n\n  offCheckRead() {\n    if (this.added) {\n      this.chat.off('child_added', this.added)\n    }\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/chat-service.ts","import { Injectable, NgZone } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport * as firebase from 'firebase';\n\n@Injectable()\nexport class PresenceService {\n\n\tpublic connectedSubject = new Subject<boolean>();\n  public connected = this.connectedSubject.asObservable();\n\n  constructor(\n  \tpublic zone: NgZone\n  ) {\n  \tthis.checkPresence();\n  }\n\n  checkPresence() {\n  \tlet connectedRef = firebase.database().ref(\".info/connected\");\n\t\tconnectedRef.on(\"value\", snap => {\n\t\t\t\tif (snap.val() === true) {\n\t\t\t    this.connectedSubject.next(true);\n\t\t\t  } else {\n\t\t\t    this.connectedSubject.next(false);\n\t\t\t  }\n\t\t\t})\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/presence.service.ts","import { Component } from '@angular/core';\nimport { Platform, ToastController } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { Keyboard } from '@ionic-native/keyboard';\n\nimport { AuthData, ProfileData, PresenceService } from '../providers';\n\n@Component({\n  template: `<ion-nav #myNav [root]=\"rootPage\"></ion-nav>`\n})\nexport class MyApp {\n  rootPage: any;\n  connected = true;\n  first = true;\n\n  constructor(\n    public platform: Platform,\n    public statusBar: StatusBar, \n    public splashScreen: SplashScreen,\n    public keyboard: Keyboard,\n    public authData: AuthData,\n    public profileData: ProfileData,\n    public presenceService: PresenceService,\n    public toastCtrl: ToastController,\n  ) {\n    this.platform.ready().then(() => {\n      console.log('platform ready');\n      this.authData.fireAuth.subscribe( user => {\n        if (user) {\n          this.profileData.getProfile()\n          .subscribe( profile => {\n            console.log('profile cargado');\n            if (profile) {\n              this.rootPage = 'TabsPage';\n              if (this.first) { \n                statusBar.styleDefault();\n                splashScreen.hide();\n                this.first = false;\n              }\n            }\n          })\n        } else {\n          this.rootPage = 'LoginPage';\n        }\n      })\n\n      this.presenceService.connected.subscribe( con => {\n        console.log('is connected', con);\n        if (!con) {\n          this.presentToast('connexion perdida');\n          this.connected = false;\n        }\n        if( con && !this.connected) {\n          this.presentToast('connexion recuperada');\n        }\n      })\n      \n      // keyboard.onKeyboardShow().subscribe(() => {\n      //   document.body.classList.add('keyboard-is-open');\n      // });\n\n      // keyboard.onKeyboardHide().subscribe(() => {\n      //   document.body.classList.remove('keyboard-is-open');\n      // });\n    })\n\n  }\n\n  presentToast(mes) {\n    let toast = this.toastCtrl.create({\n      message: mes,\n      duration: 3000\n    });\n    toast.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\n\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport * as firebase from 'firebase';\n\n@Injectable()\nexport class FirebaseApiDataProvider {\n\n  constructor(\n  \tpublic db: AngularFireDatabase\n\t) {}\n\n\tgetObject(path:string) {\n\t\treturn this.db.object(path);\n\t}\n\n\tsetObject(path: string, form: any): firebase.Promise<void> {\n\t\treturn this.db.object(`${path}`).set(form);\n\t}\n\n\tupdateObject(path: string, form: any): firebase.Promise<void> {\n\t\treturn this.db.object(`${path}`).update(form);\n\t}\n\n\tdeleteObject(path: string): firebase.Promise<void> {\n\t\treturn this.db.object(`${path}`).remove();\n\t}\n\n\tgetList(path:string) {\n\t\treturn this.db.list(path);\n\t}\n\n\tpush(path: string, form: any): firebase.Promise<void> {\n\t\treturn this.db.list(`${path}`).push(form);\n\t}\n\n\tupdateList(path: string, key:string, form: any): firebase.Promise<void> {\n\t\treturn this.db.list(`${path}`).update(key, form);\n\t}\n\n\tremoveItemList(path: string, key?: string): firebase.Promise<void> {\n\t\tif (key) {\n\t\t\treturn this.db.list(`${path}`).remove(key);\n\t\t} else {\n\t\t\treturn this.db.list(`${path}`).remove();\t\t\t\n\t\t}\n\t}\n\n\tgetNewKey() {\n\t\treturn firebase.database().ref().push().key;\n\t}\n\n\ttimestamp() {\n\t\treturn firebase.database.ServerValue.TIMESTAMP;\n\t}\n\n  fanUpdate(fanObject: any) {\n  \treturn firebase.database().ref().update(fanObject);\n  }\n\n  fanOutObject (updateForm: any, paths: Array<string>, key: boolean) {\n    const fanObject = {}\n    const updateFormKeys = Object.keys(updateForm);\n    if (key) {\n    \tconst newKey = this.getNewKey();\n    \tpaths.forEach( path => {\n\t      updateFormKeys.forEach( updateKey => {\n\t        fanObject[`${path}/${newKey}/${updateKey}`] = updateForm[updateKey]\n\t      })\n\t    })\n    } else {\n    \tpaths.forEach( path => {\n\t      updateFormKeys.forEach( updateKey => {\n\t        fanObject[`${path}/${updateKey}`] = updateForm[updateKey]\n\t      })\n\t    })\n    }\n    return fanObject;\n  }\n\t\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/firebaseApi-data.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport * as firebase from 'firebase';\n\n@Injectable()\nexport class AuthData {\n\n  fireAuth: any;\n  authObs: Observable<firebase.User>;\n\n  constructor(\n    public afAuth: AngularFireAuth,\n    public afDb: AngularFireDatabase\n  ) {\n    this.authObs = afAuth.authState;\n    this.authObs.subscribe( (user: any) => {\n      this.fireAuth = user.auth;\n    })\n  }\n\n  current() {\n    return this.afAuth.auth;\n  }\n\n  loginUser(newEmail: string, newPassword: string): firebase.Promise<any> {\n    return this.afAuth.auth.signInWithEmailAndPassword(newEmail, newPassword);\n  }\n\n  // para esto uso el JS SDK, no esta disponible todavia en AF2\n  resetPassword(email: string): firebase.Promise<any> {\n    return firebase.auth().sendPasswordResetEmail(email);\n  }\n\n  logoutUser(): firebase.Promise<any> {\n    return this.afAuth.auth.signOut();\n  }\n\n  signupUser(newEmail: string, newPassword: string): any {\n    return this.afAuth.auth.createUserWithEmailAndPassword(newEmail, newPassword)\n    .then(newUser => {\n      this.afDb.object(`/userProfile/${newUser.uid}`)\n      .set({email:newEmail});\n    })\n  }\n\n  setProfileData(displayName?: string, photoURL?: string): firebase.Promise<any>{\n    const form = {\n      displayName: this.fireAuth.displayName,\n      photoURL: this.fireAuth.photoURL\n    };\n\n    if (displayName) { form['displayName'] = displayName }\n    if (photoURL) { form['photoURL'] = photoURL }\n\n    return firebase.auth().currentUser.updateProfile(form)\n  }\n}\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-data.ts","import { Injectable } from '@angular/core';\nimport * as firebase from 'firebase';\n\nimport { FirebaseApiDataProvider } from './firebaseApi-data';\nimport { AuthData } from './auth-data';\n\n@Injectable()\nexport class ProfileData {\n\n  // profileObs: FirebaseObjectObservable<any>;\n  current: any;\n\n  constructor(\n    private api: FirebaseApiDataProvider,\n    public authData: AuthData\n  ) {\n    this.authData.fireAuth.subscribe( user => {\n      if(user) {\n        this.getProfile().subscribe( prof => {\n          this.current = prof;\n        })\n      } else {\n        this.current = null;\n      }\n    })\n  }\n\n  updateProfile(form){\n    return this.api.updateObject(`/userProfile/${this.authData.fireAuth.uid}`, form);\n  }\n\n  updateProfileFan(form): firebase.Promise<any> {\n    const root = firebase.database().ref();\n    const paths = [\n      `userProfile/${this.authData.fireAuth.uid}`,\n      `coachPatients/${this.current.coach}/${this.authData.fireAuth.uid}`\n    ] ;\n    const updates = this.fanOutObject(form, paths )\n    return root.update(updates);\n  }\n\n  private fanOutObject (updateForm: any, paths: Array<string>) {\n    const fanObject = {}\n    const updateFormKeys = Object.keys(updateForm);\n    paths.forEach( path => {\n      updateFormKeys.forEach( updateKey => {\n        fanObject[`${path}/${updateKey}`] = updateForm[updateKey]\n      })\n    })\n    console.log(fanObject);\n    return fanObject;\n  }\n\n  getProfile(){\n    return this.api.getObject(`/userProfile/${this.authData.fireAuth.uid}`);\n  }\n\n  coachProfile(coachuid) {\n    return this.api.getObject(`coachProfile/${coachuid}`);\n  }\n\n  getProfileOnce(): firebase.Promise<any> {\n    return firebase.database().ref(`/userProfile/${firebase.auth().currentUser.uid}`).once('value');\n  }\n\n  getCurrent() {\n    return this.current;\n  }\n\n  getCoachProfileOnce() {\n    return firebase.database().ref(`coachProfile/${this.current.coach}`).once('value');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/profile-data.ts"],"sourceRoot":""}